(this["webpackJsonpreact-countries"]=this["webpackJsonpreact-countries"]||[]).push([[0],{34:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(15),s=n.n(i),o=(n(34),n(17)),l=n(18),u=n(21),j=n(20),d={fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return fetch("https://countries-274616.ew.r.appspot.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n            query {\n                Country {\n                    flag {\n                        emoji\n                        emojiUnicode\n                        svgFile\n                    },\n                    name,\n                    capital,\n                    area,\n                    population,\n                    topLevelDomains {\n                        name\n                    },\n                    alpha3Code,\n                }\n            }\n            "})}).then((function(e){return e.json()}))}))},h=n(9),p=n(11),b=(n(39),n(40),function(e){return Object(a.jsx)("h4",{className:"not-found",children:e.text})}),O=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;0==e.props.countries.length?d.fetch().then((function(t){e.props.dispatch({type:"get_countries",payload:t.data.Country})})):this.props.dispatch({type:"refresh_countries"})}},{key:"findCountry",value:function(e){return{type:"find_country",payload:e}}},{key:"render",value:function(){var e=this;return 0===this.props.countries.length?Object(a.jsx)(b,{text:"Nenhum pa\xeds encontrado"}):Object(a.jsx)("ul",{className:"countries-list",children:this.props.countries.map((function(t){return Object(a.jsx)("li",{children:Object(a.jsxs)(p.b,{onClick:function(){return e.props.dispatch(e.findCountry(t.alpha3Code))},exact:"true",to:"/react-countries/countries/"+t.alpha3Code,children:[t.flag.emoji," ",t.name]})},t.alpha3Code)}))})}}]),n}(c.a.Component),f=Object(h.b)((function(e){return{countries:e.countries}}))(O),m=(n(42),Object(h.b)((function(e){return{dispatch:e.dispatch}}))((function(e){var t=e.dispatch;return Object(a.jsx)("div",{className:"search-field",children:Object(a.jsx)("input",{placeholder:"Buscar pa\xeds",onChange:function(e){return function(e,t){t({type:"search_countries",payload:e.target.value})}(e,t)},type:"text"})})})));var x=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{}),Object(a.jsx)(f,{})]})};var y=n(3),C=n(13),v=(n(43),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={buttonText:"Salvar",name:null,capital:null,area:null,population:null,alpha3Code:e.countryId,errors:{}},a}return Object(l.a)(n,[{key:"handleInputChange",value:function(e){var t,n=e.target,a=n.name,r=n.value,c=this.state.errors,i=Object(C.a)({},a,"");this.setState((t={},Object(C.a)(t,a,r),Object(C.a)(t,"errors",Object(y.a)(Object(y.a)({},c),i)),t))}},{key:"handleSave",value:function(){var e=this.state,t=this;this.formIsValid()&&(t.setState({buttonText:"Salvo!"}),setTimeout((function(){t.setState({buttonText:"Salvar"})}),3e3),this.props.dispatch({type:"update_country",payload:e}))}},{key:"formIsValid",value:function(){var e=!0,t=this.state,n={};return null!==t.population&&""!==t.population||(n.population="Popula\xe7\xe3o n\xe3o pode ser vazio",e=!1),null!==t.name&&""!==t.name||(n.name="Nome n\xe3o pode ser vazio",e=!1),null!==t.area&&""!==t.area||(n.area="\xc1rea n\xe3o pode ser vazio",e=!1),null!==t.capital&&""!==t.capital||(n.capital="Capital n\xe3o pode ser vazio",e=!1),this.setState({errors:n}),e}},{key:"render",value:function(){return Object(a.jsxs)("form",{className:"country-form",children:[Object(a.jsx)("legend",{children:"Editar Pa\xeds"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(a.jsx)("input",{onChange:this.handleInputChange.bind(this),id:"name",type:"text",name:"name"}),Object(a.jsx)("small",{className:"error",children:this.state.errors.name})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"capital",children:"Capital"}),Object(a.jsx)("input",{required:!0,onChange:this.handleInputChange.bind(this),id:"capital",type:"text",name:"capital"}),Object(a.jsx)("small",{className:"error",children:this.state.errors.capital})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"area",children:"\xc1rea"}),Object(a.jsx)("input",{required:!0,onChange:this.handleInputChange.bind(this),id:"area",type:"text",name:"area"}),Object(a.jsx)("small",{className:"error",children:this.state.errors.area})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"population",children:"Popula\xe7\xe3o"}),Object(a.jsx)("input",{required:!0,onChange:this.handleInputChange.bind(this),id:"population",type:"number",name:"population"}),Object(a.jsx)("small",{className:"error",children:this.state.errors.population})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{onClick:this.handleSave.bind(this),type:"button",children:this.state.buttonText})})]})}}]),n}(c.a.Component)),g=Object(h.b)((function(e){return{dispatch:e.dispatch}}))(v),N=n(4);n(44);var S=Object(h.b)((function(e){return{selectedCountry:e.selectedCountry}}))((function(e){return void 0===e.selectedCountry.alpha3Code?Object(a.jsx)(N.a,{to:"/"}):Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"details",children:[Object(a.jsx)("img",{width:"200",alt:e.selectedCountry.name,src:e.selectedCountry.flag.svgFile}),Object(a.jsx)("h4",{className:"title",children:e.selectedCountry.name}),Object(a.jsxs)("ul",{className:"list-info",children:[Object(a.jsxs)("li",{children:["Capital: ",e.selectedCountry.capital]}),Object(a.jsxs)("li",{children:["Popula\xe7\xe3o: ",e.selectedCountry.population]}),Object(a.jsxs)("li",{children:["Area: ",e.selectedCountry.area," km",Object(a.jsx)("sup",{children:"2"})]}),Object(a.jsxs)("li",{children:["Dom\xednios:",Object(a.jsx)("ul",{children:e.selectedCountry.topLevelDomains.map((function(e){return Object(a.jsx)("li",{children:e.name},e.name)}))})]})]}),Object(a.jsx)(g,{countryId:e.selectedCountry.alpha3Code})]})})})),k=function(){return Object(a.jsx)("nav",{children:Object(a.jsx)("ul",{children:Object(a.jsx)("li",{children:Object(a.jsx)(p.b,{exact:"true",to:"/react-countries",children:"Home"})})})})};n(45);var I=function(){return Object(a.jsx)(p.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(k,{}),Object(a.jsxs)(N.d,{children:[Object(a.jsx)(N.b,{path:"/react-countries/countries/:countryId",children:Object(a.jsx)(S,{})}),Object(a.jsx)(N.b,{path:"/react-countries",children:Object(a.jsx)(x,{})})]})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},_=n(19),w=n(10),T={countries:[],selectedCountry:{}},L=Object(_.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_countries":return Object(y.a)(Object(y.a)({},e),{},{countries:Object(w.a)(t.payload),originalCountries:Object(w.a)(t.payload)});case"search_countries":var n=t.payload;if(""==n.length)return Object(y.a)(Object(y.a)({},e),{},{countries:Object(w.a)(e.originalCountries)});if(e.countries=e.originalCountries,n.length>=3){var a=e.countries.filter((function(e){return e.name.toLowerCase().indexOf(n.toLowerCase(),0)>-1}));return Object(y.a)(Object(y.a)({},e),{},{countries:Object(w.a)(a)})}case"find_country":var r=t.payload,c=e.countries.find((function(e){return e.alpha3Code.toLowerCase().indexOf(r.toLowerCase(),0)>-1}));return Object(y.a)(Object(y.a)({},e),{},{selectedCountry:Object(y.a)({},c)});case"refresh_countries":return Object(y.a)(Object(y.a)({},e),{},{countries:Object(w.a)(e.originalCountries)});case"update_country":var i=t.payload,s={},o=e.originalCountries.map((function(e){return e.alpha3Code!=i.alpha3Code?e:(s=Object(y.a)(Object(y.a)({},e),i),Object(y.a)(Object(y.a)({},e),i))}));return Object(y.a)(Object(y.a)({},e),{},{countries:Object(w.a)(o),originalCountries:Object(w.a)(o),selectedCountry:Object(y.a)({},s)});default:return e}}));s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(h.a,{store:L,children:Object(a.jsx)(I,{})})}),document.getElementById("root")),F()}},[[46,1,2]]]);
//# sourceMappingURL=main.5e6e50cd.chunk.js.map